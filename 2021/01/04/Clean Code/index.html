<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="记录点点滴滴"><title>Clean Code | Amber</title><link rel="stylesheet" type="text/css" href="/amber/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/amber/css/dark.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/amber/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/amber/favicon.ico"><link rel="apple-touch-icon" href="/amber/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/amber/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Clean Code</h1><a id="logo" href="/amber/.">Amber</a><p class="description">一天进步一点</p></div><div id="nav-menu"><a class="current" href="/amber/."><i class="fa fa-home"> Home</i></a><a href="/amber/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/amber/about/"><i class="fa fa-user"> About</i></a><a href="/amber/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Clean Code</h1><div class="post-meta">2021-01-04<span> | </span><span class="category"><a href="/amber/categories/Books/">Books</a></span></div><div class="post-content"><p>软件质量, 不但依赖于架构及项目管理, 而且与代码质量紧密相关。<br>本书主要讲述了代码质量与其整洁度成正比的道理, 并由此揭示代码整洁之道。<br>干净的代码, 既在质量上较为可靠, 也为后期维护、升级奠定了良好基础。</p>
<p>Code Monkey: 以为自己能够写出一些代码就沾沾自喜, 看着自己写的”可以运行” 的代码, 竟然还自豪不已。 </p>
<p>代码整洁的前提:</p>
<ul>
<li>代码大部分时候是用来维护的, 而不是用来实现功能的</li>
<li>优秀的代码大部分是可以自描述的, 好于文档和注释</li>
<li>设计模式只是手段, 代码清晰才是目的</li>
</ul>
<h2 id="整洁代码的途径"><a href="#整洁代码的途径" class="headerlink" title="整洁代码的途径:"></a>整洁代码的途径:</h2><h3 id="1-有意义的命名"><a href="#1-有意义的命名" class="headerlink" title="1. 有意义的命名:"></a>1. 有意义的命名:</h3><ul>
<li>名副其实——最好要腾出时间来考虑属性或方法的命名, 而不是随便给属性和方法取一个没有具体意义的名称</li>
<li>避免误导——使用明确的区分度较大的命名, 避免用会引起误解的.譬如O、l这种命名法</li>
<li>做有意义的区分——尽量使用明确的描述内容的名称来定义类和属性, 避免类似 <code>info</code>、<code>data</code>、<code>Object</code> 此类的命名方式</li>
<li>使用读的出来的命名方式——不要使用缩写在代码中进行命名</li>
<li>使用可搜索的名称——使用静态常量代替代码中的常量</li>
<li>避免思维映射——不要用自己的思维映射方式来揣测其他人对于命名的理解</li>
<li>类名——类是用来描述一种具体事物的, 不应当是一个动词</li>
<li>方法名——方法是用来描述某一事物的某一动作的, 应当是动词或者是动词短语</li>
<li>别用双关语——在同种类型的操作中采用同样的方法名, 如果操作有所不同或者是实现或者是原理有所不同, 请使用不同的方法重新命名</li>
<li>使用计算机术语进行命名或者是问题领域的名称进行命名, 这样能够使得下一个读代码的人能够清楚的知道代码的意义</li>
</ul>
<h3 id="2-函数-一个方法做且只做一件事-并且短小到不能再抽取方法为止"><a href="#2-函数-一个方法做且只做一件事-并且短小到不能再抽取方法为止" class="headerlink" title="2. 函数: 一个方法做且只做一件事, 并且短小到不能再抽取方法为止"></a>2. 函数: 一个方法做且只做一件事, 并且短小到不能再抽取方法为止</h3><ul>
<li>只在一个抽象层级——注意函数在抽象层级上面占据的位置不要跃层</li>
<li>Switch ——使用工厂和接口的模式来掩盖 <code>switch</code> 函数</li>
<li>使用描述性的名称——使用有意义的函数名称, 并且尽量的明确</li>
<li>函数参数——输入的参数尽量少<br> ① 一元函数的普遍形式——如果函数要对输入参数进行转换操作, 转换结果就该体现为返回值. 不要使用 <code>boolean</code> 作为输入参数<br> ② 二元函数——尽量避免, 除非是单个值的有序组成部分, 类似 <code>new Point(0,0)</code><br> ③ 三元函数——尽量避免, 免不了可以使用新的类进行封装</li>
<li>动词与关键字——函数名字应体现函数动作和参数的关系, 譬如 <code>writeField(name)</code></li>
<li>无副作用——注意函数只做一件事, 尽量避免做除了函数名能描述之外的其他任何操作</li>
<li>输出参数——不要将输入参数当作输出参数来用</li>
<li>分隔指令和询问——避免出现这种情况, 一个函数动作如果成功返回A, 失败返回B, 然后进行判断, 我们可以通过 <code>try/catch</code> 进行处理</li>
<li>使用异常替代返回错误——充分利用 java 的错误处理机制来进行编程</li>
<li>抽离 <code>try/catch</code> —— <code>try/catch</code> 中的每一块内容应该就是一个独立的事（函数）</li>
<li>别重复自己——使用面向对象的方法将代码集中到基类避免冗余</li>
<li>结构化编程——如果函数足够短, 出现 <code>return</code>, <code>break</code>, <code>continue</code> 并没有什么错</li>
<li>怎么做——我们不可能一次性就把代码写成这样, 所以我们可以慢慢的通过不断的重构来慢慢优化我们的代码结构</li>
</ul>
<h3 id="3-注释-需要注释本身就是一种失败-真正可读性非常好的代码不需要注释-但是由于一般的局限性我们还是需要注释-那我们尽量把注释写的好些"><a href="#3-注释-需要注释本身就是一种失败-真正可读性非常好的代码不需要注释-但是由于一般的局限性我们还是需要注释-那我们尽量把注释写的好些" class="headerlink" title="3. 注释: 需要注释本身就是一种失败, 真正可读性非常好的代码不需要注释, 但是由于一般的局限性我们还是需要注释, 那我们尽量把注释写的好些"></a>3. 注释: 需要注释本身就是一种失败, 真正可读性非常好的代码不需要注释, 但是由于一般的局限性我们还是需要注释, 那我们尽量把注释写的好些</h3><ul>
<li>不要太过相信注释, 代码才是对于客观现实最直观的解释. </li>
<li>好的注释——对于意图的解释, 对于晦涩的代码的阐释, 对于关键内容的警告, <code>TODO</code> 改写没有写的代码</li>
<li>坏注释——由于SVN 等代码版本控制的出现, 循规式的注释、日志式注释、归属于署名</li>
</ul>
<h3 id="4-格式-垂直格式-自上向下-水平格式-尽量短；符合团队统一代码风格"><a href="#4-格式-垂直格式-自上向下-水平格式-尽量短；符合团队统一代码风格" class="headerlink" title="4. 格式: 垂直格式, 自上向下; 水平格式, 尽量短；符合团队统一代码风格"></a>4. 格式: 垂直格式, 自上向下; 水平格式, 尽量短；符合团队统一代码风格</h3><ul>
<li>变量声明: 变量声明尽量靠近其使用位置</li>
<li>实体变量: 应该在类的顶部声明</li>
<li>相关函数: 若某个函数调用了另外一个, 应放到一起, 调用者尽可能放在被调用者上边</li>
<li>概念相关: 概念相关的代码应放一起</li>
</ul>
<h3 id="5-类-6大设计原则第一原则"><a href="#5-类-6大设计原则第一原则" class="headerlink" title="5. 类: 6大设计原则第一原则"></a>5. 类: 6大设计原则第一原则</h3><ul>
<li>类——短小, 且描述其单一权责 <code>SRP</code>, 有且只有一条加以修改的理由</li>
<li>内聚——内聚性高, 意味着, 类中方法和变量相互依赖结合成一个逻辑整体</li>
</ul>
<h3 id="6-测试驱动"><a href="#6-测试驱动" class="headerlink" title="6. 测试驱动"></a>6. 测试驱动</h3><ul>
<li>注意边界条件; 避免扎堆</li>
<li>单元测试的三个阶段: 构造测试数据, 操作测试数据, 检验操作是否符合预期</li>
<li>整洁可读性, 遵循: Fast, Independent, Repeatable, Self-Validating, Timely—快速, 独立, 可重复, 自我验证, 及时</li>
</ul>
<p><code>a good unit test should be automated, repeatable, easy to understand, incremental, easy to run, and fast</code><br><code>一个好的单元测试应该是自动化的、可重复的、易于理解的、增量的、易于运行的、快速的.</code></p>
<h3 id="7-错误处理"><a href="#7-错误处理" class="headerlink" title="7. 错误处理"></a>7. 错误处理</h3><ul>
<li>使用异常而非返回码</li>
<li>首先考虑 <code>try catch finally</code>语句</li>
<li>使用不可控异常</li>
<li>给出异常说明</li>
<li>不返回 <code>Null</code>, <code>collection.emptyList()</code>方法</li>
<li>避免传递 <code>Null</code> 值</li>
</ul>
</div><div class="tags"><a href="/amber/tags/Java/"><i class="fa fa-tag"></i>Java</a></div><div class="post-nav"><a class="pre" href="/amber/2021/01/13/unicode/">Byte-Order Mark</a><a class="next" href="/amber/2021/01/03/Effective%20Java/">Effective Java</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://wyiyi.github.io/amber"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/amber/categories/Books/">Books</a></li><li class="category-list-item"><a class="category-list-link" href="/amber/categories/Technology/">Technology</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/amber/tags/Java/" style="font-size: 15px;">Java</a> <a href="/amber/tags/Git/" style="font-size: 15px;">Git</a> <a href="/amber/tags/SQL/" style="font-size: 15px;">SQL</a> <a href="/amber/tags/Others/" style="font-size: 15px;">Others</a> <a href="/amber/tags/Encoding/" style="font-size: 15px;">Encoding</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/amber/2021/04/06/Git/">Git</a></li><li class="post-list-item"><a class="post-list-link" href="/amber/2021/03/25/number-precision/">JS 中保留固定位数以及四舍五入</a></li><li class="post-list-item"><a class="post-list-link" href="/amber/2021/03/06/zero-width-space/">Zero-Width-Space</a></li><li class="post-list-item"><a class="post-list-link" href="/amber/2021/01/13/unicode/">Byte-Order Mark</a></li><li class="post-list-item"><a class="post-list-link" href="/amber/2021/01/04/Clean%20Code/">Clean Code</a></li><li class="post-list-item"><a class="post-list-link" href="/amber/2021/01/03/Effective%20Java/">Effective Java</a></li><li class="post-list-item"><a class="post-list-link" href="/amber/2021/01/02/Head%20First%20SQL/">Head First SQL</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2021 <a rel="nofollow" target="_blank" href="https://github.com/wyiyi"> Amber.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/amber/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/amber/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/love.js"></script><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/amber/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/amber/js/smartresize.js?v=0.0.0"></script></div></body></html>